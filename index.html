<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Tooli O'KaT</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<div class="ticker-wrap">
		<div class="ticker" id="ticker-text">
			<!-- Ticker content will be injected here -->
		</div>
	</div>

	<h1>TamperMonkey Plugins</h1><br>
	<h3><a href='https://github.com/katzworld/tMonkey' target="_blank">
			<img src='https://raw.githubusercontent.com/katzworld/WalkingtheWorld-v2/main/5524.png' alt='map overlay'
				width="400" height="200"><br>
			Tampermonkey github page for all the plugins and overlays for the metaverse</a><br>
	</h3>


	<h3><a href='./370showcase/index.html' target="_blank"> see the world of #370 </a><br>
		<br>
		<hr>

		<!-- <iframe src="https://radio.tmwstw.io/" width="100%" height="300px"></iframe> -->
		<H1>API Things *</H1>
		<hr>
		<h2>----API----</h2>
		<h3>
			<p>API USAGE <br>
				<span id="faucet"></span>
				faucet status call <a href="https://api.imamkatz.com/faucet/370"
					target="_blank">https://api.imamkatz.com/faucet/</a> plat_id <br> //370

				<br>
				return example<br>
			<pre><code>
					[
					"id": 370,
					"bob": 3,
					"slag": 9,
					"grease": 0,
					"ink": 0
					]
				</pre>
			</code>
			[PLAT_ID,BOB,SLAG,GREASE,INK]
			<br>
			</span>
			<br>
			<span id="clock">
				clock status <a href="https://clock.imamkatz.com/docs"
					target="_blank">https://clock.imamkatz.com/docs</a>
			</span>

			</p>
		</h3><br>

		<!-- <a href="./Leaderboard/leaderboard-notebook.ipynb" target="_blank">Jupiter Notebook to generate data from
			leaderboard</a><br> -->
	</h3><br>
	<hr>



	</h3><br>
	<hr>
	<H3>
		<H2><a href='./pojack/index.html' target="_blank">Pojack Data Terminal</a>
			LVR Database Lookup</H2>

		<p>Forget where you left your ride? not sure if it has been stolen or just misplaced?<br>
			enter the ID number and get the last known location of your vehicle<br>
			down to the cords in the game<br>
			<br>
		</p>

	</H3>
	<hr>

	<h3>CLOCK PROJECT
		<H2><a href="./bob/index.html" target="_blank">Bob O'Clock</a></H2>
		<H2><a href="./slag/index.html" target="_blank">Slag Index</a></H2>
		<H2><a href="./grease/index.html" target="_blank">Grease Mark</a></H2>
		<H2><a href="./ink/index.html" target="_blank">Ink Well</a></H2>
		<p> Data pulled from blockchain directly from etc chain for the closet block
			count as possible make your own call to the clock api built with ZIMJS
			will show you current blocknumber along with faucet status for each resource pages auto refresh </p>
	</h3>
	<hr>
	<H2><a href="./Tracker/index.html" target="_blank">Tracker Sufferer</a> see who is in world </H2>
	<H3>
		<p>Tracker Suffer in realtime who is in the world and what plat they are on
			<iframe src="./Tracker/index.html" width="100%" height="500px"></iframe>

		</p>

	</H3>
	<hr>
	<H2><a href="./Death/index.html" target="_blank">Death Plotter</a> reset nightly at 0000UTC </H2>
	<H3>
		<p>simple Tracker to show the Death API live by the golden die by the golden AK
			shows last 24hr based on game time (UTC)
		</p>

	</H3>
	<hr>
	<H2><a href="./Leaderboard/index.html" target="_blank">Leaderboard </a>API interface to leaderboard query</H2>
	<H2><a href="./Leaderboard/lastevents.html" target="_blank">Last Event </a>Whats going on?</H2>
	<H3>
		<p> interface to query and format the api to get plat runs from the database see how someone else might
			be getting to the faucets from a different route and paths
			<br>

		</p>
	</H3>
	<hr>
	<H2><a href="./Landlord/index.html" target="_blank">Land Lord</a> Check dem Plats</H2>
	<H3>
		<p>pulling data from the buildrouter:3128 about plots you can enter a plat id
			and it will return some value that might be useful IE List of uniqe owners in plat.</p>
	</H3>
	<hr>
	<H2><a href="./Lottery/index.html" target="_blank">Lottery Oracle</a> Check for Today Winning
		Numbers !!</H2>
	<H3>
		<p>utilizing the API from the King HIMSELF once again<br>
			outputs the high givers Oracle of the Lottery System<br>

	</H3>
	<hr>
	<H2><a href="./Bingo/index.html" target="_blank">Bingo Card</a> *now with freespace Dab</H2>
	<H3>
		<p>Cover the Faucet number on your Bingo Card. All High Givers top of the chart <br>
			even if you dont have the $ for the unlock you can still play if the faucet has a <br>
			locked status and you unlock it that will still count! UTC Reset game runs for 24 hours<br>
			must check in and show POW ie screenshot of card with F12 screen open to verify<br>
			what are you playing for WHO KNOWS !!! no really what do you want apartments ? <br>
			Vacants ? $bob $ slag $grease Light Vehicles grab you card from</p>
		<a href="https://app.manifold.xyz/c/svg-bingo" target="_blank">manifold SVG-Bingo</a> get you ticket
		enjoy the ride<br>

	</H3>
	<hr>

	<H2><a href='https://katzworld.github.io/Folgers/' target="_blank">Folgers github</a>
		<<< SLOW TO LOAD AT TIMES</H2>
			<H3>
				<p>Good till the last faucet it primed then the page will be retired .. pulls array from api
					and
					check again
					<br>
					untouch/untapped virgin faucet
				</p>

			</H3>
			<hr>

			<H2><a href='https://app.manifold.xyz/c/armsdeals' target="_blank">Bounty Hunter
					Contract</a> Man HUNT!</H2>
	</H2>
	<H3>
		<p>I hear ya ... bingo not your speed more wanna go out and hunt your bounty no problem<br>
			check out the bounty program at the ARMS Dealer hood go find a jimmi he is out there >
			<br>
			give me a screeen shot with the plot number and hold the proper paper work <br>
			happy hunting
		</p>
	</H3>

	<script>
		// Function to fetch ETC price from new API
		async function fetchETCPrice() {
			const url = 'https://etc.blockscout.com/api/v2/stats';
			try {
				const response = await fetch(url);
				if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
				const data = await response.json();
				return {
					price: Number(data.coin_price).toFixed(2),
					logo: data.coin_image
				};
			} catch (error) {
				console.error('Error fetching ETC price:', error);
				return null;
			}
		}

		// Function to fetch data from the API
		async function fetchTokenData(token) {
			const url = `https://clock.imamkatz.com/Pool/${token}`;
			try {
				const response = await fetch(url);
				if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
				const data = await response.json();
				console.log(`Raw ${token} data:`, data); // Debug log
				// Verify we have the required fields instead of checking for token name
				if (!data.pool_value || !data.pool_etc) {
					throw new Error('Missing required fields');
				}
				return data;
			} catch (error) {
				console.error(`Error fetching ${token} data:`, error);
				return null;
			}
		}

		// Add function to update ticker
		function updateTicker(data, etcInfo) {
			if (!data) return '';

			const tokenName = Object.keys(data)[0];
			const tokenPrice = data[tokenName];

			const etcPriceDisplay = etcInfo ? `<img src="${etcInfo.logo}" alt="ETC">$${etcInfo.price} | ` : '';

			// More compact format with minimal spacing
			return `<span class="ticker-item">
				${etcPriceDisplay}${tokenName}:${tokenPrice} | P:${data.pool_value} | E:${data.pool_etc} | T:${data[`pool_${tokenName.toLowerCase()}`]} | S:${data.total_stake}
			</span>`;
		}

		// Fetch and display data for all tokens
		async function loadTokenData() {
			const tokens = ['bob', 'grease', 'slag', 'ink'];
			let tickerContent = '';

			try {
				const etcInfo = await fetchETCPrice();

				for (const token of tokens) {
					const data = await fetchTokenData(token);
					if (data) {
						const tickerItem = updateTicker(data, etcInfo);
						if (tickerItem) tickerContent += tickerItem;
					}
				}

				if (!tickerContent) {
					console.warn('No ticker content generated');
					tickerContent = '<span class="ticker-item">Loading token data...</span>';
				}

				tickerContent = tickerContent.repeat(2);
				const tickerElement = document.getElementById('ticker-text');
				tickerElement.innerHTML = tickerContent;
			} catch (error) {
				console.error('Error in loadTokenData:', error);
				document.getElementById('ticker-text').innerHTML =
					'<span class="ticker-item">Unable to load token data...</span>';
			}
		}

		// Load data when the page loads and refresh every minute
		window.onload = () => {
			loadTokenData();
		};
	</script>
</body>

</html>