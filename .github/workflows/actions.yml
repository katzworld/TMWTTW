name: Download and Push File

on:
  schedule:
  - cron: '0 0 * * *' # At 00:00 on Monday
  workflow_dispatch:
jobs:
  wget:
    runs-on: ubuntu-latest
    steps:
    - name: wget
      uses: wei/wget@v1
      with:
        args: -O current.json https://api.tmwstw.io/faucet_data
 # Checkout the branch
    - name: checkout
      uses: actions/checkout@v2
    - name: setup git config
      run: |
          # setup the username and email. I tend to use 'GitHub Actions Bot' with no email by default
          git config user.name "GitHub Actions Bot"
          git config user.email "<>"

    - name: commit
      run: |
          # Stage the file, commit and push
          git add current.json
          git commit -m "new data commit"
          git push origin main:API